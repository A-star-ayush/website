+++
type = "news"
title = "Haiku Finally Gets a Native GCC4 - full story inside!"
date = "2009-02-01T04:25:26.000Z"
tags = ["development", "gcc4"]
+++


    <div class="field field-type-text field-field-body">
    <div class="field-items">
            <div class="field-item odd">
                    <span class="inline right"><a href="/files/screenshots/stressing_it.png" rel="lightbox"><img src="http://www.haiku-os.org/files/screenshots/stressing_it.thumbnail.png" alt="Michael's Quad-core compiling GCC4.3.3" title="Michael's Quad-core compiling GCC4.3.3" class="image thumbnail" width="200" height="160"></a><span class="caption" style="width: 198px;"><strong>Michael's Quad-core compiling GCC4.3.3</strong></span></span>
<p>As many Haiku community members know, one major hurdle that has been making it difficult to port new software to Haiku has been the lack of an up-to-date GCC4 compiler. While a GCC 4.1.2 cross-compiler has been available now for some time, cross-compiling software for a GCC4-built Haiku can be painful and frustrating. What Haiku really needed was a native GCC4 toolchain to run on a GCC4-built Haiku install.</p>

<p><strong>That time is now! A native Haiku GCC4.3.3 is now a reality.</strong></p>

<p>Michael Lotz set out to tackle this task and the fruits of his labor have finally been committed to the Haiku repository for all to benefit from.</p>

<!--break-->

<h3>Michael Lotz details the process he used</h3>

<p>To demonstrate what process was necessary to perform this task, he has <a href="/blog/mmlr/2009-01-31/native_gcc_4_3_3_for_haiku_tales_of_updating_the_gcc4_port">written a detailed blog post recounting his experience.</a> It's a long read, and certainly lists some confusing concepts. If you were at all curious what it would take, going from a GCC2-built Haiku to a GCC4-built Haiku with its own native compiler, the steps are all there.</p>

<p>During the process, Michael was even "fortunate" to <a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=38966">find and submit a patch for a bug in libiberty.</a> You will read about the strange behavior that led to the discovery in his blog post.</p>

<h3>Dogfooding is important... Yummy!</h3>

<p>If you're paying attention while reading his blog, you'll note that Michael is <a href="http://en.wikipedia.org/wiki/Dogfooding">"dogfooding"</a> during his Haiku development. Not only does he use Haiku for development purposes, but it's also the only operating system he uses currently. This suggests a couple of important points: a) Haiku is stable enough to use daily and develop in and b) Haiku developers are serious about Haiku, intending to use it as their daily OS. I know of several developers who use Haiku daily for various tasks, including development. This demonstrates a dedication to the quality they are pursuing, and increases the likelihood that even little annoying things about Haiku are going to get fixed eventually.</p>

<h3>What does all this mean? What's next?</h3>
<span class="inline right"><a href="/files/screenshots/gcc4_haiku_with_gcc4_compiler.png" rel="lightbox"><img src="http://www.haiku-os.org/files/screenshots/gcc4_haiku_with_gcc4_compiler.thumbnail.png" alt="Freshly-built Haiku running GCC4" title="Freshly-built Haiku running GCC4" class="image thumbnail" width="200" height="150"></a><span class="caption" style="width: 198px;"><strong>Freshly-built Haiku running GCC4</strong></span></span>

<p>So, what should we expect from Haiku now that it has a native GCC4 toolchain?</p>

<p>I'm not sure - and that's the exciting part actually! This opens the door for easier porting of modern software, and more easily moves Haiku out of the "dark" GCC2 cloud that BeOS had lived under.</p>

<p>Several existing Haiku porting projects already require GCC4 to proceed and/or update to latest versions: Firefox 3, Webkit, VLC, and more.</p>

<p>Haiku already supports a "hybrid" environment where it is built with GCC2 for backward compatibility but also providing GCC4 libraries for future  software support - or even more interesting: a GCC4-built Haiku with GCC2 libraries for backward compatibility. I think we'll see the latter becoming more common now with the availability of a native GCC4.</p>

<p>There are still some minor loose ends to tie up - such as providing the remaining development tools for a GCC4 Haiku (the GCC2-built ones will work, but they are not yet automatically installed with the "Development" optional package). Additionally, those who wish to build a GCC4 Haiku from within an existing GCC2-built Haiku might find it a little bit challenging. If you'd like to experiment, you may want to compile your own GCC4 Haiku from Linux, BSD, etc., or even wait for the availability of pre-built GCC4 images to appear.</p>

<p>These are very interesting developments, I hope you're as excited as I am at what the future holds :)</p>
        </div>
        </div>
</div>
  