+++
type = "article"
title = "Updating your system"
date = "2014-08-18T13:11:00.000Z"
tags = ["update"]
+++

<p>With the introduction of package management you can now upgrade your system in place using the pkgman command.  The update process is straightforward, requires an internet connection, and requires a single reboot. pkgman will handle obtaining the latest updates and applying them to your system.</p>

<h2>Bleeding edge</h2>

<div class="alert alert-warning"><strong>Warning:</strong> Bleeding edge updates may occasionally fail if major ABI updates have taken place since the last update was performed.  While problems are rare, having backups is recommended before updating.</div>

<h1>Update process</h1>
<p>To update your system to packages in the repositories, there are a few simple steps to perform.</p>

<ul>
 <li>All you have to do is add the current repositories (do <b>not</b> add single quotes around the urls, the $(getarch) is meant to be substituted by the shell):<br/>
<pre class="terminal">pkgman add https://packages.haiku-os.org/haiku/master/$(getarch)/current
pkgman add https://packages.haiku-os.org/haikuports/master/repo/$(getarch)/current</pre></li>
 <li>Update to the latest packages:<br/><pre class="terminal">pkgman update</pre></li>
 <li>Reboot once complete:<br/><pre class="terminal">shutdown -r</pre></li>
</ul>

<h1>Freeing some disk space</h1>
<p>When updating, old packages are kept in directories named "state_..." in /system/packages/administrative/ to allow booting with previous states in case update fails. After a while you might want to free up some disk space. You can safely remove the oldest state folders there, as well as the "transaction-..." ones. Do not touch the other directories though.</p>
