+++
type = "blog"
author = "humdinger"
title = "Contributing via pull requests"
date = "2016-05-28T06:56:13.000Z"
tags = ["pull-request", "git", "github"]
+++

<p>Opening issues for an application at github, for example, is a good way to help improving software. Often it's only a small detail and something a non-programming user could easily fix. Maybe it's just a typo or improved documentation etc.</p>
<p>Doing the changes yourself and contributing these fixes directly via a so-called "pull-request" is even better, as it saves the precious time of the developers/maintainers. Also, this dabbling in code might be a nice way to slowly ease yourself into more ambitious contributions.</p>
<!--break-->
<p>In this post, I'd like to give a small step-by-step introduction how to contribute via pull-requests with an example of a recipe in haikuports. I'm in no way an experienced user of git etc., so I appreciate improvements in the comments. Just remember, we want to keep it very simple... :)</p>

<p><strong>These are the steps for a pull request:</strong></p>
<ol>
<li>Create a user at github.</li>
<li>Create a fork of the project.</li>
<li>Clone that forked project.</li>
<li>Make your changes to the code, test and commit them.</li>
<li>Push your changes to your forked project.</li>
<li>Create a pull-request</li>
</ol>

<h2>1. Create a user at github</h2>
<p>That one should be obvious...</p>

<h2>2. Create a fork of the project</h2>
<p>Go to the <a href="https://github.com/haikuports/haikuports">haikuports project</a> and click the "<em>Fork</em>" button at the top right of the page. Now go to your personal github and you'll find the forked repo there.</p>

<h2>3. Clone that forked project</h2>
<p>On that page of your fork, click the "<em>Clone or download</em>" button and copy the web URL "<tt>https://github.com/humdingerb/haikuports.git</tt>". Now open a Terminal, change into the folder you want to put the code and clone your fork (i.e. download the code):</p>

<pre class="terminal">cd /boot/home
git clone https://github.com/humdingerb/haikuports.git</pre>

<p>Getting the whole haikuports tree takes a while...</p>

<h2>4. Make your code changes</h2>
<p>Now do those changes you wanted to do. Maybe it was simply a typo in a recipe description. After all is done and you checked if haikuporter can still build the package. You check once more your changes to make sure you didn't change more than intended:</p>

<pre class="terminal">git diff</pre>

<p>This shows the differences compared to the original files. If that's OK, you commit them all with:</p>

<pre class="terminal">git commit -a</pre>

<p>A text editor opens for you to enter a descriptive commit message, e.g. "<em>Recipe XY: fixed typo in description</em>".</p>

<p>Now, what if after that commit you realize that there was another typo, or you made a typo when correcting the typo, or something equally tautologically embarrassing?<br />
Easy, just make your changes and then amend those changes when committing again with:</p>

<pre class="terminal">git commit -a -amend</pre>

<p>That way, you'll still only have one commit when you're finally pushing it to your repo. You can do this as often as you have to...</p>

<h2>5. Push your changes</h2>
<p>You push those changes to your github with:</p>

<pre class="terminal">git push</pre>

<h2>6. Create a pull-request</h2>
<p>Now open your forked project at github in the webbrowser. At the top you click the button "<em>New pull request</em>" which will take you through the steps of submitting your changes to the haikuports project.<br />
If they accept your request, they pull your changes into their master branch and you're all done.</p>

<p>Often however, the developer/maintainer of the project has a few details to nag about. No problem, just make those additional changes to the code and again amend those with:</p>

<pre class="terminal">git commit -a -amend</pre>

<p>To update the existing pull-request, you have to "force" the push with:</p>

<pre class="terminal">git push -f</pre>

<hr>

<p>And that's all there is to it. Really quite easy in its simplest form, isn't it? Of course, things can get a bit more complicated (but also more sophisticated) when using branches and remote repos, and even more complicated when you've messed up your commits and have to get it all back on track... :)<br />
Don't let that discourage you, though. Open the Vision app and join the #haiku channel on IRC to get help, consult the <a href="https://github.com/haikuports/haikuports/wiki/DevelopmentModel">haikuports wiki</a>, and always keep in mind the xkcd wisdom:</p>
<div align="center">
<a href="http://xkcd.com/1597/"><img src="http://imgs.xkcd.com/comics/git.png" alt="xkcd #1597></a></div>