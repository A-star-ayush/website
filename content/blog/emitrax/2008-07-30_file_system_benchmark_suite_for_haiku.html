+++
type = "blog"
author = "emitrax"
title = "File system benchmark suite for Haiku"
date = "2008-07-30T10:53:23.000Z"
tags = ["hcd2008", "bonnie++"]
+++

<p>Time for a quick update.

<p>As with <a href="https://dev.haiku-os.org/changeset/26676">r26676</a>, a first buggy xsi semaphore implementation is now present in Haiku (buggy because there is another patch waiting to be reviewed and commited that fixes some issues, but there might be some more coming).</p>

<p>It is now possible to download, compile and run the file system benchmark suite <a href="http://www.coker.com.au/bonnie++/bonnie++-1.03d.tgz">bonnie++</a>. The version I've used is 1.03d, which has been suggested by the author of the suite. With this suite it is possible to test the file system implementation, plus the way Haiku works under low memory and heavy I/O operations.</p>


<!--more-->


<p>The basic way to run the software is pretty simple. In order to run the suite in single process mode, just hit</p>

<pre>
bonnie++ -u 0
</pre>

<p>While, if you want to run it in multiprocesses mode just do the following</p>

<pre>
bonnie++ -p 3 -u 0
bonnie++ -y -u 0 &
bonnie++ -y -u 0 &
bonnie++ -y -u 0 &
</pre>

<p>The first command create the ipc key and the semaphores needed to synchronize the 3 processes. As most of you have already guessed, the -p flag is used to specify how many process you want to run bonnie++ with. Bear in mind that none of the process will run until the last one has been started.</p>

<p>You are of course all invited in running some test, as the more test are ran, the more bugs are found, the sooner they will be fixed, the sooner R1 will come out. At least that's the theory! :-)</p>

<p>Of course, RUN IT AT YOUR OWN RISK.</p>
